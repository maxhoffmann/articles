<hr>
<p>title: Autoresizing Textareas</p>
<h2 id="date-2014-02-03">date: 2014-02-03</h2>
<h1 id="autoresizing-textareas">Autoresizing Textareas</h1>
<p>For one of my side projects I’ve wanted to use an autoresizing textarea. Besides some jQuery plugins and some pure JavaScript that didn’t work properly I couldn’t find anything useful, so I tried to implement my own solution.</p>
<pre><code class="lang-javascript">var resizingTextareas = [].slice.call(document.querySelectorAll(&#39;textarea[autoresize]&#39;));

resizingTextareas.forEach(function(textarea) {
  textarea.addEventListener(&#39;input&#39;, autoresize, false);
});

function autoresize() {
  this.style.height = &#39;auto&#39;;
  this.style.height = this.scrollHeight+&#39;px&#39;;
  this.scrollTop = this.scrollHeight;
}
</code></pre>
<p>At first the code finds all textareas with an <code>autoresize</code> attribute. Then it adds a listener for the input event, which calls the autoresize function. The autorize function sets the textarea’s height to <code>auto</code> and immediately changes its height again to its <code>scrollHeight</code>. This has to be done otherwise the <code>scrollHeight</code> isn’t correcly calculated. The last line ensures that the texarea is scrolled to the bottom whenever a new line is added.</p>
<pre><code class="lang-css">textarea[autoresize] {
  display: block;
  overflow: hidden;
  resize: none;
}
</code></pre>
<p>Setting the display to <code>block</code> prevents a small position change in Chrome, Safari and Opera when the autoresize function is called for the first time. <code>overflow: hidden</code> prevents the scrollbars from showing up and <code>resize: none</code> removes the small handle at the bottom right corner of the textarea.</p>
<p>You may now use autoresizing textareas like so:</p>
<pre><code class="lang-markup">&lt;textarea autoresize&gt;Type here and I’ll resize.&lt;/textarea&gt;
</code></pre>
<p>You can play around with the code on <a href="http://jsbin.com/okUyAgAP/1/edit">JSBin</a>.</p>
